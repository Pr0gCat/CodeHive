# 佈局圖解 (Layout Diagram)

## 新的佈局設計

```
┌─────────────────────────────────────────────────────────────────┐
│                        CodeHive Header                          │
├─────────────────────────────────────────────────────────────────┤
│  Project Info Bar (專案資訊欄)                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────┐  ┌─────────────────────────────────────┐   │
│  │                 │  │         Tab Navigation              │   │
│  │   Agent Status  │  │  [Kanban 看板] [諮詢]            │   │
│  │     Panel       │  ├─────────────────────────────────────┤   │
│  │                 │  │                                     │   │
│  │  ┌───────────┐  │  │                                     │   │
│  │  │   Status  │  │  │                                     │   │
│  │  │   Info    │  │  │                                     │   │
│  │  └───────────┘  │  │                                     │   │
│  │                 │  │                                     │   │
│  │  ┌───────────┐  │  │                                     │   │
│  │  │  Pending  │  │  │                                     │   │
│  │  │   Tasks   │  │  │                                     │   │
│  │  └───────────┘  │  │                                     │   │
│  │                 │  │                                     │   │
│  │  ┌───────────┐  │  │                                     │   │
│  │  │   Token   │  │  │                                     │   │
│  │  │   Usage   │  │  │                                     │   │
│  │  └───────────┘  │  │                                     │   │
│  │                 │  │                                     │   │
│  │  ┌───────────┐  │  │                                     │   │
│  │  │  Controls │  │  │                                     │   │
│  │  └───────────┘  │  │                                     │   │
│  │                 │  │                                     │   │
│  └─────────────────┘  │                                     │   │
│                       │                                     │   │
│  Fixed Width          │                                     │   │
│  (256px-384px)        │                                     │   │
│  Always Visible       │                                     │   │
│                       │                                     │   │
└───────────────────────┴─────────────────────────────────────┘
```

## 佈局特點

### 1. 代理狀態面板 (左側)

- **獨立區域**：不依賴於任何標籤頁面
- **始終可見**：無論切換到哪個標籤都保持顯示
- **固定寬度**：響應式寬度，但不會被壓縮
- **垂直滾動**：內容超出時可滾動

### 2. 主內容區域 (右側)

- **標籤導航**：固定在頂部，支持水平滾動
- **彈性寬度**：佔據剩餘所有空間
- **標籤切換**：在 Kanban 看板和諮詢之間切換
- **全寬顯示**：每個標籤頁面都佔據全部可用空間
- **滾動保護**：標籤過多時水平滾動，確保代理狀態面板始終可見

## 響應式行為

### 小屏幕 (< 1024px)

```
┌─────────────────────────────────────────────────┐
│                    Header                       │
├─────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────────────────────┐ │
│  │             │  │         Tabs                │ │
│  │   Agent     │  │  [Kanban] [Queries]         │ │
│  │   Status    │  ├─────────────────────────────┤ │
│  │   Panel     │  │                             │ │
│  │             │  │                             │ │
│  │  256px      │  │                             │ │
│  │             │  │                             │ │
│  └─────────────┘  │                             │ │
│                   │                             │ │
└───────────────────┴─────────────────────────────┘
```

### 大屏幕 (≥ 1024px)

```
┌─────────────────────────────────────────────────────────────────┐
│                            Header                               │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────────────────────────┐   │
│  │                 │  │              Tabs                   │   │
│  │   Agent Status  │  │        [Kanban] [Queries]           │   │
│  │     Panel       │  ├─────────────────────────────────────┤   │
│  │                 │  │                                     │   │
│  │    288px        │  │                                     │   │
│  │                 │  │                                     │   │
│  │                 │  │                                     │   │
│  └─────────────────┘  │                                     │   │
│                       │                                     │   │
└───────────────────────┴─────────────────────────────────────┘
```

### 超大屏幕 (≥ 1280px)

```
┌─────────────────────────────────────────────────────────────────────┐
│                                Header                               │
├─────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────┐  ┌─────────────────────────────────────┐   │
│  │                     │  │              Tabs                   │   │
│  │   Agent Status      │  │        [Kanban] [Queries]           │   │
│  │       Panel         │  ├─────────────────────────────────────┤   │
│  │                     │  │                                     │   │
│  │      320px          │  │                                     │   │
│  │                     │  │                                     │   │
│  │                     │  │                                     │   │
│  └─────────────────────┘  │                                     │   │
│                           │                                     │   │
└───────────────────────────┴─────────────────────────────────────┘
```

## 用戶體驗優勢

### 1. 持續可見性

- **代理狀態**：始終可見，無需切換標籤
- **即時監控**：可以隨時查看任務狀態和 Token 使用情況
- **快速操作**：暫停/恢復佇列等操作隨時可用

### 2. 空間利用

- **並行顯示**：代理狀態和主內容同時顯示
- **減少切換**：不需要在標籤間切換來查看狀態
- **提高效率**：更高效的工作流程

### 3. 視覺清晰

- **明確分離**：左右區域有清晰的視覺分離
- **層次分明**：標籤導航、內容區域層次清晰
- **一致性**：所有屏幕尺寸下保持一致的佈局

## 技術實現

### CSS 類名結構

```css
/* 主容器 */
.h-[calc(100vh-120px)].flex

/* 代理狀態面板 */
.w-64.lg:w-72.xl:w-80.2xl:w-96
.p-4.bg-primary-950.border-r.border-primary-800
.h-full.overflow-y-auto.flex-shrink-0

/* 主內容區域 */
.flex-1.flex.flex-col

/* 標籤導航 */
.border-b.border-primary-800.bg-primary-950.overflow-x-auto
.flex.min-w-max

/* 標籤內容 */
.flex-1.overflow-hidden
```

### 響應式斷點

```css
/* 默認 */
.w-64 /* 256px */

/* 大屏幕 */
@media (min-width: 1024px) {
  .lg: w-72; /* 288px */
}

/* 超大屏幕 */
@media (min-width: 1280px) {
  .xl: w-80; /* 320px */
}

/* 2K 屏幕 */
@media (min-width: 1536px) {
  .2xl: w-96; /* 384px */
}
```

這個新的佈局設計提供了更好的用戶體驗，讓代理狀態面板成為一個獨立的、始終可見的區域，同時保持了響應式設計的所有優勢。
